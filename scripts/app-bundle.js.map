{"version":3,"sources":["src/app.js","src/authorization-step.js","src/edit-account.js","src/environment.js","src/login.js","src/logout.js","src/main.js","src/management.js","src/not-found.js","src/signup.js","src/tweet.js","src/welcome-screen.js","src/administration/adm-home.js","src/administration/adm.js","src/administration/index.js","src/administration/_main.1.js","src/administration/_main.js","src/models/broadcast.js","src/models/toolkit.js","src/models/user.js","src/resources/index.js","src/services/user-gateway.js","src/validation/index.js","src/administration/components/add-user.js","src/administration/components/admin-menu.js","src/administration/components/cleanup-content.js","src/administration/components/remove-user.js","src/administration/components/statistics.js","src/resources/elements/account-detail.js"],"names":["App","configureRouter","config","router","title","addPipelineStep","map","route","redirect","name","moduleId","nav","settings","logonRequired","restrictedToAdmins","logoutRequired","mapUnknownRoutes","fallbackRoute","AuthorizationStep","user","run","instruction","next","console","log","mail","instructions","getAllInstructions","isRestrictedRoute","some","i","toString","isAdmin","alert","cancel","isValidUser","isAuthenticated","EditAccount","userGateway","isBusy","validationFailed","addressExists","nameExists","isValidPassword","temporaryUser","of","password","applyChanges","msg1","msg","validateInputFields","hasValidChanges","update","length","hasAdressChanged","toLwerCase","hasNameChanged","hasPasswordChanged","hasChanges","anyUser","getByMailAddress","mailAddress","id","getByName","debug","testing","usersUrl","Login","performLogin","Logout","activate","reset","configure","aurelia","use","standardConfiguration","plugin","feature","developmentLogging","start","then","setRoot","Management","NotFound","Signup","validationController","performSignup","existingUser","add","Tweet","WelcomeScreen","AdmHome","Adm","routes","container","get","forEach","addRoute","r","Administration","fromObject","src","Object","assign","message","image","timestamp","on","Toolkit","createGuid","replace","c","Math","random","v","getDay","now","Date","month","getMonth","slice","day","getDate","getFullYear","getTime","getHours","getMinutes","getSeconds","isEven","number","resetSelectionRange","selectionRange","User","vips","nips","tool","becomeFollower","isVeryImportantPerson","push","UserGateway","httpClient","currentUser","modifiedUser","success","modifi","verify","getAll","fetch","response","json","dto","getById","AddUser","AdminMenu","tryAddUser","tryDeleteUser","confirm","CleanupContent","RemoveUser","Statistics","AccountDetail"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { AuthorizationStep } from 'authorization-step';\n\nexport class App {\n\n  // Logout-Pipeline:  \n  // => a navigation setting (here: logoutRequired) gets the route invoked\n  //    each time a navigation request is issued, so the activate-method gets called\n  configureRouter(config, router) {\n    this.router = router;\n    config.title = 'Postillion';\n    config.addPipelineStep('authorize', AuthorizationStep);\n    config.map([\n      { route: '', redirect: 'home' },\n      { route: 'home', name: 'home', moduleId: 'welcome-screen', nav: false },\n      { route: 'login', name: 'login', moduleId: 'login', nav: true, title: 'Login' },\n      { route: 'signup', name: 'signup', moduleId: 'signup', nav: true, title: 'Signup' },\n      { route: 'account', name: 'account', moduleId: 'edit-account', nav: true, title: 'Edit Account' },\n      { route: 'tweet', name: 'tweet', moduleId: 'tweet', nav: true, title: 'Postoffice', settings: { logonRequired: true } },\n      { route: 'administration', name: 'administration', moduleId: 'administration/adm', nav: true, title: 'Management', settings: { restrictedToAdmins: true } },\n      { route: 'logout', name: 'logout', moduleId: 'logout', nav: true, title: 'Logout', settings: { logoutRequired: true } }\n    ]);\n    config.mapUnknownRoutes('not-found');\n    config.fallbackRoute('home');\n  }\n}","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { Redirect } from 'aurelia-router';\r\nimport { User } from './models/user';\r\n\r\n@inject(User)\r\nexport class AuthorizationStep {\r\n    constructor(user) {\r\n        this.user = user;\r\n    }\r\n\r\n    run(instruction, next) {\r\n        //console.log(user.toString());\r\n        console.log(\"Checking route permissions of user \" + this.user.mail);\r\n        var instructions = instruction.getAllInstructions()\r\n\r\n        // Administration         \r\n        var isRestrictedRoute = instructions.some(\r\n            i => i.config.settings.restrictedToAdmins);\r\n\r\n        console.log('Is route restricted for admins ? ' + isRestrictedRoute);\r\n        if (isRestrictedRoute) {\r\n            console.log(this.user.toString());\r\n            var isAdmin = this.user.isAdmin;\r\n            console.log('Is Admin ? ' + isAdmin);\r\n            if (!isAdmin) {\r\n                alert('Please register as administrator.');\r\n                console.log('Redirect to login');\r\n                return next.cancel(new Redirect('login'));\r\n            }\r\n        }\r\n\r\n        // Run core application\r\n        isRestrictedRoute = instructions.some(\r\n            i => i.config.settings.logonRequired);\r\n\r\n        console.log('Does route require login ? ' + isRestrictedRoute);\r\n        if (isRestrictedRoute) {\r\n            console.log(this.user.toString());\r\n            var isValidUser = this.user.isAuthenticated;\r\n            console.log('Is valid User ? ' + isValidUser);\r\n            if (!isValidUser) {\r\n                alert('Please login first.');\r\n                console.log('Redirect to login');\r\n                return next.cancel(new Redirect('login'));\r\n            }\r\n        }\r\n\r\n        // Logout : no action required\r\n\r\n        \r\n        // Continue        \r\n        return next();\r\n    }\r\n}","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { UserGateway } from './services/user-gateway';\r\nimport { User } from './models/user';\r\n\r\n@inject(UserGateway, User)\r\nexport class EditAccount {\r\n    constructor(userGateway, user) {\r\n        this.userGateway = userGateway;\r\n        this.user = user;\r\n        this.temporaryUser = NewInstance.of(User);\r\n        this.temporaryUser.mail = this.user.mail;\r\n        this.temporaryUser.name = this.user.name;\r\n        this.temporaryUser.password = this.user.password;\r\n    }\r\n\r\n    isBusy = false;\r\n    validationFailed = false;\r\n    addressExists = false;\r\n    nameExists = false;\r\n    isValidPassword = true; // ER: validate PW-Security\r\n\r\n    applyChanges() {\r\n        var msg1 = \"Original user : \" + this.user.toString();\r\n        console.log(msg1);\r\n        var msg = \"Input :  \" + this.temporaryUser.mail + \" \" + this.temporaryUser.name + \" \" + this.temporaryUser.password;\r\n        console.log(msg);\r\n        //alert(msg);\r\n\r\n        // aurelia-validation is much more complex\r\n        this.validateInputFields();\r\n        if (this.validationFailed) {\r\n            console.log(\"Input-Validation failed : Empty fields\");\r\n            return;\r\n        }\r\n\r\n        if (!this.hasValidChanges()) {\r\n            return;\r\n        }\r\n\r\n        // change user record in data base\r\n        if (this.userGateway.update(this.user, this.temporaryUser)) {\r\n            //  update active user\r\n            this.user.mail = this.temporaryUser.mail;\r\n            this.user.name = this.temporaryUser.name;\r\n            this.user.password = this.temporaryUser.password;\r\n\r\n            console.log(\"Changed user data : \" + this.user.toString());\r\n        }\r\n    }\r\n\r\n    validateInputFields() {\r\n        this.validationFailed =\r\n            this.temporaryUser.mail.length == 0 ||\r\n            this.temporaryUser.name.length == 0 ||\r\n            this.temporaryUser.password.length == 0;\r\n    }\r\n\r\n    hasValidChanges() {\r\n        var hasAdressChanged = this.user.mail.toLwerCase() !== this.temporaryUser.mail.toLwerCase();\r\n        var hasNameChanged = this.user.name.toLwerCase() !== this.temporaryUser.name.toLwerCase();\r\n        var hasPasswordChanged = this.user.password !== this.temporaryUser.password;\r\n\r\n        var hasChanges = hasAdressChanged || hasNameChanged || hasPasswordChanged;\r\n        if (!hasChanges) {\r\n            console.log(\"Input-Validation result : No changes\");\r\n            return false;\r\n        }\r\n\r\n        // TODO: allow changes        \r\n        var anyUser = User;\r\n        if (hasAdressChanged) {\r\n            anyUser = this.userGateway.getByMailAddress(this.temporaryUser.mailAddress);\r\n            this.addressExists = this.user.id !== anyUser.id;\r\n        }\r\n\r\n        if (hasNameChanged) {\r\n            anyUser = this.userGateway.getByName(this.temporaryUser.name);\r\n            this.nameExists = this.user.id !== anyUser.id;\r\n        }\r\n\r\n        if (addressExists || nameExists || !hasPasswordChanged) {\r\n            console.log(\"Input-Validation result : Invalid changes\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n}","export default {\n  debug: true,\n  testing: true,\n  usersUrl: 'http://localhost:3000/',\n};\n","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { UserGateway } from './services/user-gateway';\r\nimport { User } from './models/user';\r\n\r\n@inject(UserGateway, User)\r\nexport class Login {\r\n    constructor(userGateway, user) {\r\n        this.userGateway = userGateway;\r\n        this.user = user;\r\n    }\r\n\r\n    isBusy = false;\r\n    validationFailed = false;\r\n    addressExists = true;\r\n    isValidPassword = true; // ER: validate PW-Security\r\n\r\n    performLogin() {\r\n        var msg = \"Before Login : \" + this.user.toString();\r\n        console.log(msg);\r\n        //alert(msg);\r\n\r\n        // aurelia-validation is much more complex\r\n        this.validationFailed = this.user.mail.length == 0 || this.user.password.length == 0;\r\n        if (this.validationFailed) {\r\n            console.log(\"Input-Validation failed : Empty fields\");\r\n            return;\r\n        }\r\n\r\n        // Enable all\r\n        // TODO: set properties isAuthenticated, isAdmin\r\n        this.user.isAuthenticated = true;\r\n        this.user.isAdmin = true;\r\n        //this.user = this.userGateway.verify(this.user);\r\n        // this.userGateway.verify(this.user);\r\n\r\n        msg = \"After Login : \" + this.user.toString();\r\n        console.log(msg);\r\n\r\n        // TODO Logout any active user : cleanup broadcast-feature\r\n        //this.user.reset();\r\n\r\n    }\r\n}\r\n","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { User } from './models/user';\r\n\r\n@inject(User)\r\nexport class Logout {\r\n    constructor(user) {\r\n        this.user = user;\r\n        console.log(\"Logout Route initialised with \" + this.user.mail)\r\n    }\r\n\r\n    activate() {\r\n        console.log(\"activated: Logout \" + this.user.mail )\r\n        if (this.user !== null) {\r\n            console.log(\"Before Reset: \" + this.user.mail);\r\n            this.user.reset()\r\n            console.log(\"After Reset: \"+ this.user.mail);\r\n        }\r\n    }\r\n}\r\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-validation')\n //   .feature('validation')\n   .feature('administration')\n   .feature('resources');\n  \n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Management {}\r\n","export class NotFound {}\n","import { inject } from 'aurelia-framework';\r\nimport { UserGateway } from './services/user-gateway';\r\nimport { User } from './models/user';\r\n\r\n@inject(UserGateway, User)\r\nexport class Signup {\r\n    constructor(userGateway, user, validationController) {\r\n        this.userGateway = userGateway;\r\n        this.user = user;\r\n    }\r\n\r\n    isBusy = false;\r\n    validationFailed = false;\r\n    addressExists = false;\r\n    nameExists = false;\r\n    isValidPassword = true; // ER: validate PW-Security\r\n\r\n    performSignup() {\r\n        var msg = \"Signup  \" + this.user.toString();\r\n        console.log(msg);\r\n\r\n        // aurelia-validation is much more complex\r\n        this.validationFailed =\r\n            this.user.mail.length == 0 ||\r\n            this.user.name.length == 0 ||\r\n            this.user.password.length == 0;\r\n        if (this.validationFailed) {\r\n            console.log(\"Input-Validation failed\");\r\n            //  alert(msg);\r\n            return;\r\n        }\r\n\r\n        // try retrieving user data from storage\r\n        var existingUser = this.userGateway.getByMailAddress(this.user.mailAddress);\r\n\r\n        // display hints if registration fails\r\n        this.addressExists = existingUser.mail != null && existingUser.mail.length > 0;\r\n        this.nameExists = existingUser.name != null && existingUser.name.length > 0;\r\n\r\n        // register as new user\r\n        if (!addressExists && !nameExists) {\r\n            this.userGateway.add(this.user);\r\n        }\r\n    }\r\n}\r\n","export class Tweet {}\r\n","export class WelcomeScreen {}","export class AdmHome {\r\n\r\n}","export class Adm {\r\n\r\n}","// feature instead of child router : \r\n// enable this file, disable ./main.js and enable feature in src/main.js\r\nimport { Router } from 'aurelia-router';\r\n\r\nconst routes = [\r\n    {\r\n        route: 'administration', name: 'administration',\r\n        moduleId: 'administration/adm', nav: false, title: 'Administration'\r\n    },\r\n    {\r\n        route: 'administration/increase', name: 'add-user',\r\n        moduleId: 'administration/components/add-user', title: 'Add User'\r\n    },\r\n   {\r\n        route: 'administration/decrease', name: 'remove-user',\r\n        moduleId: 'administration/components/remove-user', title: 'Remove User'\r\n    },\r\n    {\r\n        route: 'administration/:id', name: 'cleanup-content',\r\n        moduleId: 'administration/components/cleanup-content', title:'Cleanup'\r\n    },\r\n    {\r\n        route: 'administration/:id/edit', name: 'statistics',\r\n        moduleId: 'administration/components/statistics', title: \"Statistics\"\r\n    },\r\n];\r\n\r\nexport function configure(config) {\r\n    const router = config.container.get(Router);\r\n    routes.forEach(r => router.addRoute(r));\r\n}","// child router instaed feature : \r\n// enable this file, disable ./index.js and disable feature in src/main.js\r\nimport { inlineView } from 'aurelia-framework';\r\n\r\n@inlineView('<template><router-view></router-view></template>')\r\nexport class Administration {\r\n    configureRouter(config) {\r\n        config.map([\r\n            {\r\n                route: '', name: 'administration',\r\n                moduleId: './components/home', title: 'Administration'\r\n            },\r\n            {\r\n                route: 'new', name: 'add-user',\r\n                moduleId: './components/add-user', title: 'Add User'\r\n            },\r\n            {\r\n                route: ':id', name: 'remove-user',\r\n                moduleId: './components/remove-user', title:\"Remove User\"\r\n            },\r\n            {\r\n                route: ':id/edit', name: 'cleanup-content',\r\n                moduleId: './components/cleanup-content', title: \"Cleanup\"\r\n            },\r\n            {\r\n                route: ':id/photo', name: 'statistics',\r\n                moduleId: './components/statistics', title: \"Statistics\"\r\n            },\r\n        ]);\r\n    }\r\n}","// child router instaed feature : \r\n// enable this file, disable ./index.js and disable feature in src/main.js\r\nimport { inlineView } from 'aurelia-framework';\r\n\r\n@inlineView('<template><router-view></router-view></template>')\r\nexport class Administration {\r\n    configureRouter(config) {\r\n        config.map([\r\n            {\r\n                route: '', name: 'administration',\r\n                moduleId: './components/home', title: 'Administration'\r\n            },\r\n            {\r\n                route: 'new', name: 'add-user',\r\n                moduleId: './components/add-user', title: 'Add User'\r\n            },\r\n            {\r\n                route: ':id', name: 'remove-user',\r\n                moduleId: './components/remove-user', title:\"Remove User\"\r\n            },\r\n            {\r\n                route: ':id/edit', name: 'cleanup-content',\r\n                moduleId: './components/cleanup-content', title: \"Cleanup\"\r\n            },\r\n            {\r\n                route: ':id/photo', name: 'statistics',\r\n                moduleId: './components/statistics', title: \"Statistics\"\r\n            },\r\n        ]);\r\n    }\r\n}","import { ValidationRules } from 'aurelia-validation';\r\n\r\nexport class Tweet {\r\n    static fromObject(src) {\r\n        const user = Object.assign(new Tweet(), src);\r\n        return user;\r\n    }\r\n\r\n    constructor() {\r\n        ValidationRules\r\n            .on(this);\r\n    }\r\n\r\n    message = '';\r\n    image = '';\r\n    timestamp = '';\r\n    id = '';\r\n}","export class Toolkit{\r\n\r\n    createGuid() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    getDay () {\r\n        var now = new Date();\r\n        var month = (\"0\" + (now.getMonth() + 1)).slice(-2);\r\n        var day = (\"0\" + now.getDate()).slice(-2)\r\n        return now.getFullYear() + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    getTime () {\r\n        var now = new Date();\r\n        return now.getHours() + \":\" + now.getMinutes() + \":\" + now.getSeconds();\r\n    }\r\n\r\n    isEven(number) {\r\n        return (number % 2) == 0;\r\n    }\r\n\r\n    resetSelectionRange () {\r\n        selectionRange = [-1, -1];\r\n    }\r\n\r\n}","import { Toolkit } from './toolkit';\r\n\r\nexport class User {\r\n    static fromObject(src) {\r\n        const user = Object.assign(new User(), src);\r\n        return user;\r\n    }\r\n\r\n    mail = 'a@b.c';\r\n    name = 'otto';\r\n    password = '1';\r\n    id = \"0\";\r\n\r\n    isAuthenticated = false;\r\n    isAdmin = true;\r\n\r\n    // Lists of tweeters whom this user wants to follow\r\n    vips = []; // Very Important Persons (alwasy visible)\r\n    nips = []; // Normal Important Persons (visible on demand)\r\n\r\n    constructor() {\r\n        var tool = new Toolkit();\r\n        this.id = tool.createGuid();\r\n        console.log(\"User created : \" + this.toString());\r\n    }\r\n\r\n    toString() {\r\n        var msg = \"Current user (ID = \" + this.id + \") : \" + this.mail + \" \" + this.name + \" \" + this.password;\r\n        return msg;\r\n    }\r\n\r\n    becomeFollower(id, isVeryImportantPerson) {\r\n        if (isVeryImportantPerson) {\r\n            this.vips.push(id);\r\n        } else {\r\n            this.nips.push(id);\r\n        }\r\n    }\r\n\r\nreset() {\r\n    this.mail = '';\r\n    this.name = '';\r\n    this.password = '';\r\n    this.id = '0';\r\n\r\n    this.isAuthenticated = false;\r\n    this.isAdmin = false;\r\n\r\n    // Lists of tweeters whom this user wants to follow\r\n    this.vips = []; // Very Important Persons (alwasy visible)\r\n    this.nips = []; // Normal Important Persons (visible on demand)\r\n}\r\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { HttpClient } from 'aurelia-fetch-client';\r\nimport { User } from './../models/user';\r\nimport environment from './../environment';\r\n\r\n@inject(HttpClient)\r\nexport class UserGateway {\r\n    constructor(httpClient) {\r\n        // this.httpClient = httpClient.configure(config => {\r\n        //     config\r\n        //         .useStandardConfiguration()\r\n        //         .withBaseUrl(environment.usersUrl);\r\n        // });\r\n    }\r\n\r\n    add(user) {\r\n        // TODO : complete user data with id\r\n        // TODO : add user data to storage\r\n                // TODO : store mail address as lower case string    \r\n\r\n    }\r\n\r\n    // TODO update accout data : mail, name, password    \r\n    update(currentUser, modifiedUser) {\r\n        var success = true;\r\n// validate changes\r\n        // TODO : compare case insensitive    \r\n        if (currentUser.mail.toLwerCase() !== modifiedUser.mail.toLwerCase() ) {\r\n            var existingUser = getByMailAddress(modifi)\r\n\r\n        }\r\n        var hasChanges =\r\n            this.user.mail.toLwerCase() !== this.temporaryUser.mail.toLwerCase() ||\r\n            this.user.name.toLwerCase() !== this.temporaryUser.name.toLwerCase() ||\r\n            this.user.password !== this.temporaryUser.password;\r\n        \r\n        var existingUser = getByMailAddress(modifi)\r\n        return success;\r\n    }\r\n    \r\n     // TODO validate login data : mail and password    \r\n   verify(user) {\r\n        console.log(\"Called : getLoginDummy\");\r\n        var existingUser = NewInstance.of(User);\r\n        existingUser.mail = 'm@w.a';\r\n        console.log(\"Created : \" + existingUser.mail);\r\n        existingUser.name = 'dummy';\r\n        existingUser.password = '1';\r\n        existingUser.id = '1';\r\n\r\n        existingUser.isAuthenticated = true;\r\n        existingUser.isAdmin = false;\r\n        var msg = \"Return : \" + existingUser.isAuthenticated;\r\n        console.log(msg);\r\n\r\n        return existingUser.isAuthenticated;\r\n    }\r\n\r\n   getByMailAddress(mailAddress) {\r\n       var existingUser = NewInstance.of(User);\r\n\r\n       // TODO : retrieve user data from storage\r\n        //  compare case insensitive  ;  mail address is stored as lower case string\r\n\r\n       return existingUser;\r\n   }\r\n\r\n   getByName(name) {\r\n       var existingUser = NewInstance.of(User);\r\n\r\n       // TODO : retrieve user data from storage\r\n       //  compare case insensitive  ;  mail address is stored as lower case string\r\n\r\n       return existingUser;\r\n   }\r\n    \r\n\r\n    getAll() {\r\n        return this.httpClient.fetch('users')\r\n            .then(response => response.json())\r\n            .then(dto => dto.map(User.fromObject));\r\n    }\r\n\r\n    getById(id) {\r\n        return this.httpClient.fetch(`users/${id}`)\r\n            .then(response => response.json())\r\n            .then(User.fromObject);\r\n    }\r\n\r\n\r\n}","export function configure(config) {\r\n    config\r\n        .plugin('aurelia-validation');\r\n}","export class AddUser {\r\n    \r\n}","export class AdminMenu {\r\n\r\n    tryAddUser() {\r\n    \r\n    }\r\n\r\n\r\n    tryDeleteUser() {\r\n        if (confirm('Do you want to delete this user and all of his broadcasts?')) {\r\n            //   this.contactGateway.delete(this.contact.id)\r\n            //     .then(() => { this.router.navigateToRoute('contacts'); });\r\n           // this.router.navigateToRoute('contacts');\r\n        }\r\n    }\r\n\r\n}","export class CleanupContent {\r\n    \r\n}","export class RemoveUser {\r\n    \r\n}","export class Statistics {\r\n    \r\n}","export class AccountDetail {\r\n\r\n    activate(temporaryUser) {\r\n        this.user = temporaryUser;\r\n    }\r\n}"],"sourceRoot":".."}