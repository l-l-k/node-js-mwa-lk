{"version":3,"sources":["src/app.js","src/authorization-step.js","src/edit-account.js","src/environment.js","src/login.js","src/logout.js","src/main.js","src/management.js","src/not-found.js","src/signup.js","src/tweet.js","src/welcome-screen.js","src/models/broadcast.js","src/models/user.js","src/services/user-gateway.js","src/resources/index.js","src/resources/elements/account-detail.js"],"names":["App","configureRouter","config","router","title","addPipelineStep","map","route","redirect","name","moduleId","nav","settings","logonRequired","restrictedToAdmins","logoutRequired","mapUnknownRoutes","fallbackRoute","AuthorizationStep","user","run","instruction","next","console","log","mail","instructions","getAllInstructions","isRestrictedRoute","some","i","toString","isAdmin","alert","cancel","isValidUser","isAuthenticated","EditAccount","isBusy","currentUser","of","password","applyChanges","msg1","msg","msg2","debug","testing","usersUrl","Login","userGateway","performLogin","checkLoginDummy","Logout","activate","reset","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Management","NotFound","Signup","performSignup","Tweet","WelcomeScreen","fromObject","src","Object","assign","message","image","timestamp","id","on","User","vips","nips","UserGateway","httpClient","existingUser","getAll","fetch","response","json","dto","getById","AccountDetail"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { AuthorizationStep } from 'authorization-step';\n\nexport class App {\n\n  // Logout-Pipeline:  \n  // => a navigation setting (here: logoutRequired) gets the route invoked\n  //    each time a navigation request is issued, so the activate-method gets called\n  configureRouter(config, router) {\n    this.router = router;\n    config.title = 'Postillion';\n    config.addPipelineStep('authorize', AuthorizationStep);\n    config.map([\n      { route: '', redirect: 'home' },\n      { route: 'home', name: 'home', moduleId: 'welcome-screen', nav: false },\n      { route: 'login', name: 'login', moduleId: 'login', nav: true, title: 'Login' },\n      { route: 'signup', name: 'signup', moduleId: 'signup', nav: true, title: 'Signup' },\n      { route: 'account', name: 'account', moduleId: 'edit-account', nav: true, title: 'Edit Account' },\n      { route: 'tweet', name: 'tweet', moduleId: 'tweet', nav: true, title: 'Postoffice', settings: { logonRequired: true } },\n      { route: 'management', name: 'management', moduleId: 'management', nav: true, title: 'Management', settings: { restrictedToAdmins: true } },\n      { route: 'logout', name: 'logout', moduleId: 'logout', nav: true, title: 'Logout', settings: { logoutRequired: true } }\n    ]);\n    config.mapUnknownRoutes('not-found');\n    config.fallbackRoute('home');\n  }\n\n}\n","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { Redirect } from 'aurelia-router';\r\nimport { User } from './models/user';\r\n\r\n@inject(User)\r\nexport class AuthorizationStep {\r\n    constructor(user) {\r\n        this.user = user;\r\n    }\r\n\r\n    run(instruction, next) {\r\n        //console.log(user.toString());\r\n        console.log(\"Checking route permissions of user \" + this.user.mail);\r\n        var instructions = instruction.getAllInstructions()\r\n\r\n        // Administration         \r\n        var isRestrictedRoute = instructions.some(\r\n            i => i.config.settings.restrictedToAdmins);\r\n\r\n        console.log('Is route restricted for admins ? ' + isRestrictedRoute);\r\n        if (isRestrictedRoute) {\r\n            console.log(this.user.toString());\r\n            var isAdmin = this.user.isAdmin;\r\n            console.log('Is Admin ? ' + isAdmin);\r\n            if (!isAdmin) {\r\n                alert('Please register as administrator.');\r\n                console.log('Redirect to login');\r\n                return next.cancel(new Redirect('login'));\r\n            }\r\n        }\r\n\r\n        // Run core application\r\n        isRestrictedRoute = instructions.some(\r\n            i => i.config.settings.logonRequired);\r\n\r\n        console.log('Does route require login ? ' + isRestrictedRoute);\r\n        if (isRestrictedRoute) {\r\n            console.log(this.user.toString());\r\n            var isValidUser = this.user.isAuthenticated;\r\n            console.log('Is valid User ? ' + isValidUser);\r\n            if (!isValidUser) {\r\n                alert('Please login first.');\r\n                console.log('Redirect to login');\r\n                return next.cancel(new Redirect('login'));\r\n            }\r\n        }\r\n\r\n        // Logout : no action required\r\n\r\n        \r\n        // Continue        \r\n        return next();\r\n    }\r\n}","import { inject, NewInstance } from 'aurelia-framework';\r\n//import { UserGateway } from './services/user-gateway';\r\nimport { User } from './models/user';\r\n\r\n//@inject(UserGateway)\r\n@inject(User)\r\nexport class EditAccount {\r\n    constructor(user) {\r\n        //     this.userGateway = userGateway;\r\n        this.user = user;\r\n        this.currentUser = NewInstance.of(User);\r\n        this.currentUser.mail = this.user.mail;\r\n        this.currentUser.name = this.user.name;\r\n        this.currentUser.password = this.user.password;\r\n    }\r\n\r\n    isBusy = false;\r\n\r\n    applyChanges() {\r\n        var msg1 = \"Original user : \" + this.user.mail + \" \" + this.user.name + \" \" + this.user.password;\r\n        console.log(msg1);\r\n        var msg = \"Input :  \" + this.toString();\r\n        console.log(msg);\r\n        alert(msg);\r\n\r\n        //  update user record\r\n        this.user.mail = this.currentUser.mail;\r\n        this.user.name = this.currentUser.name;\r\n        this.user.password = this.currentUser.password;\r\n \r\n        var msg2 = \"Changed user data : \" + this.user.mail + \" \" + this.user.name + \" \" + this.user.password;\r\n        console.log(msg2);\r\n\r\n        // TODO : try change user record in data base\r\n    }\r\n\r\n    toString() {\r\n        var msg = \"Current user : \" + this.currentUser.mail + \" \" + this.currentUser.name + \" \" + this.currentUser.password;\r\n        return msg;\r\n    }\r\n}","export default {\n  debug: true,\n  testing: true,\n  usersUrl: 'http://localhost:3000/',\n};\n","import { inject } from 'aurelia-framework';\r\nimport { UserGateway } from './services/user-gateway';\r\nimport { User } from './models/user';\r\n\r\n@inject(UserGateway, User)\r\nexport class Login {\r\n    constructor(userGateway, user) {\r\n        this.userGateway = userGateway;\r\n        this.user = user;\r\n    }\r\n\r\n    isBusy = false;\r\n\r\n    performLogin() {\r\n        // TODO: Logout any active user\r\n        var msg = \"Before Login : \" + this.user.toString();\r\n        console.log(msg);\r\n        //alert(msg);\r\n        // TODO: Validate user input\r\n\r\n        // Enable postings\r\n        this.user.isAuthenticated = this.userGateway.checkLoginDummy();\r\n        msg = \"After Login : \" + this.user.toString();\r\n        console.log(msg);\r\n  }\r\n}\r\n","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { User } from './models/user';\r\n\r\n@inject(User)\r\nexport class Logout {\r\n    constructor(user) {\r\n        this.user = user;\r\n        console.log(\"Logout Route initialised with \" + this.user.mail)\r\n    }\r\n\r\n    activate() {\r\n        console.log(\"activated: Logout \" + this.user.mail )\r\n        if (this.user !== null) {\r\n            console.log(\"Before Reset: \" + this.user.mail);\r\n            this.user.reset()\r\n            console.log(\"After Reset: \"+ this.user.mail);\r\n        }\r\n    }\r\n}\r\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n  \n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Management {}\r\n","export class NotFound {}\n","import { inject } from 'aurelia-framework';\r\n//import { UserGateway } from './services/user-gateway';\r\nimport { User } from './models/user';\r\n\r\n//@inject(UserGateway)\r\n@inject(User)\r\nexport class Signup {\r\n    constructor(user) {\r\n        //     this.userGateway = userGateway;\r\n        this.user = user;\r\n    }\r\n\r\n    isBusy = false;\r\n\r\n    performSignup() {\r\n        var msg = \"Signup  \" + this.toString();\r\n        console.log(msg);\r\n        alert(msg);\r\n        // TODO : try register as new user\r\n    }\r\n\r\n    toString() {\r\n        var msg = \"Current user : \" + this.user.mail + \" \" + this.user.name + \" \" + this.user.password;\r\n        return msg;\r\n    }\r\n}\r\n","export class Tweet {}\r\n","export class WelcomeScreen {}","import { ValidationRules } from 'aurelia-validation';\r\n\r\nexport class Tweet {\r\n    static fromObject(src) {\r\n        const user = Object.assign(new Tweet(), src);\r\n        return user;\r\n    }\r\n\r\n    constructor() {\r\n        ValidationRules\r\n            .on(this);\r\n    }\r\n\r\n    message = '';\r\n    image = '';\r\n    timestamp = '';\r\n    id = '';\r\n}","//import { ValidationRules } from 'aurelia-validation';\r\n\r\n///@inject(ValidationRules);\r\nexport class User {\r\n    static fromObject(src) {\r\n        const user = Object.assign(new User(), src);\r\n        return user;\r\n    }\r\n\r\n    mail = 'a@b.c';\r\n    name = 'otto';\r\n    password = '1';\r\n    id = '0';\r\n\r\n    isAuthenticated = false;    \r\n    isAdmin = false;\r\n\r\n    // Lists of tweeters whom this user wants to follow\r\n    vips = []; // Very Important Persons (alwasy visible)\r\n    nips = []; // Normal Important Persons (visible on demand)\r\n\r\n    // constructor() {\r\n    //     ValidationRules\r\n    //         .ensure('mail')\r\n    //         .required()\r\n    //         .maxLength(250)\r\n    //         .ensure('name')\r\n    //         .required()\r\n    //         .maxLength(100)\r\n    //         .ensure('password')\r\n    //         .required()\r\n    //         .maxLength(100)\r\n    //         .ensure('id')\r\n    //         .required()\r\n    //         .maxLength(100)\r\n    //         .on(this);\r\n    // }\r\n\r\n    toString() {\r\n        var msg = \"Current user (ID = \" + this.id + \") : \" + this.mail + \" \" + this.name + \" \" + this.password;\r\n        return msg;\r\n    }\r\n    \r\n    reset() {\r\n        this.mail = '';\r\n        this.name = '';\r\n        this.password = '';\r\n        this.id = '0';\r\n\r\n        this.isAuthenticated = false;\r\n        this.isAdmin = false;\r\n\r\n        // Lists of tweeters whom this user wants to follow\r\n        this.vips = []; // Very Important Persons (alwasy visible)\r\n        this.nips = []; // Normal Important Persons (visible on demand)\r\n    }\r\n}","import { inject, NewInstance } from 'aurelia-framework';\r\nimport { HttpClient } from 'aurelia-fetch-client';\r\nimport { User } from './../models/user';\r\nimport environment from './../environment';\r\n\r\n@inject(HttpClient)\r\nexport class UserGateway{\r\n    constructor(httpClient) {\r\n        // this.httpClient = httpClient.configure(config => {\r\n        //     config\r\n        //         .useStandardConfiguration()\r\n        //         .withBaseUrl(environment.usersUrl);\r\n        // });\r\n    }\r\n\r\n    checkLoginDummy() {\r\n        console.log(\"Called : getLoginDummy\");\r\n        var existingUser = NewInstance.of(User);\r\n        existingUser.mail = 'm@w.a';\r\n        console.log(\"Created : \" + existingUser.mail);\r\n       existingUser.name = 'dummy';\r\n        existingUser.password = '1';\r\n        existingUser.id = '1';\r\n\r\n        existingUser.isAuthenticated = true;\r\n        existingUser.isAdmin = false;\r\n        var msg = \"Return : \" + existingUser.isAuthenticated;\r\n        console.log(msg);\r\n\r\n        return existingUser.isAuthenticated;    \r\n    }    \r\n    \r\n    getAll() {\r\n        return this.httpClient.fetch('users')\r\n            .then(response => response.json())\r\n            .then(dto => dto.map(User.fromObject));\r\n    }\r\n\r\n    getById(id) {\r\n        return this.httpClient.fetch(`users/${id}`)\r\n            .then(response => response.json())\r\n            .then(User.fromObject);\r\n    }\r\n\r\n\r\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class AccountDetail {\r\n\r\n    activate(currentUser) {\r\n        this.user = currentUser;\r\n    }\r\n}"],"sourceRoot":".."}